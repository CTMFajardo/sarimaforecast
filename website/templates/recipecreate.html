{% extends "base.html" %}
{% block title %} Create Recipe {% endblock %} 

{% block content %}

<div class="container-fluid">
  <div class="row">
    <div class="col-md-8">
<form method="POST">
  <br>
    <h3 align="left">Create Recipe</h3>
    <br><br>
    <table>
      <tbody>                          
          <tr>
            <td><b>Recipe name: </b></td>  
            <td>      
              <input
              type="text"
              class="form-control"
              id="recipeName"
              name="recipeName"
              placeholder="Enter Recipe name"
              />
            </td>
          </tr>
          <tr>
            <td><b>Number of Servings: </b></td>
            <td>
              <input
              type="number"
              class="form-control"      
              id="numberOfServings"
              name="numberOfServings"
              placeholder="Number of servings"
              size="1" min="0" oninput="this.value = 
              !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null"
            />                 
            </td>
          </tr>
      </tbody>
    </table>

  
  <div>
    <br><br>
    <h5>Current Ingredients:</h5>
    <ul class="list-group list-group-flush" id="currentIngredients">
      {% for tempIngredients in tempIngredients %}
        <li class="list-group-item">  
        {{ tempIngredients.recipeIngredients }}
        {{ tempIngredients.recipeQuantity }} {{ tempIngredients.recipeUOM }} 
        <br>
        </li>
      {% endfor %}
      </ul>
      <br><br>


  </div>    
  <div class="form-group">
    <label for="ingredientListSelect">Ingredients: </label>
    <select class="form-control-sm" id="ingredientListSelect" name="ingredientListSelect">
      {% for allIngredients in allIngredients %}
      <option>{{ allIngredients.ingredientName }}</option>
      {% endfor %}
    </select>
    <input type="number" id="ingredientsQuantity" name="ingredientsQuantity" 
      placeholder="Quantity" size="1" min="0" oninput="this.value = 
      !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null"/>
    <select id="ingredientsUOM" name="ingredientsUOM">
      <option>pc/s</option>
      <option>mL</option>
      <option>L</option>
      <option>g</option>
      <option>kg</option>
      <option>cup/s</option>
    </select>
    <br>
    
    <div>
      <button type="submit" class="btn btn-secondary" name="action" value="addTemp">Add to ingredients</button>
    </div>
    
  </div>
  <br>   
    <br><br>
    <div>
      <button type="submit" class="btn btn-secondary" name="action" value="addRecipe">Add recipe</button>
      <button type="submit" class="btn btn-secondary" name="action" value="removeAll">Clear ingredients</button>
    </div>
</form>
    </div> <!--end left column-->

    <div class="col-md-4">
      <br>
      <h3>Recipe list</h3>
  
      <form method="POST">
          <div>
              <br><br>
              <select class="form-control form-control-sm" id="recipeListSelect" name="recipeListSelect">
                  {% for allRecipe in distinctRecipe %}
                  <option>{{ allRecipe.recipeName }}</option>
                  {% endfor %}
              </select>
              <br>
              <div>
                  <button type="submit" class="btn btn-secondary" name="action" value="viewRecipe">View recipe</button>
                  <button type="submit" class="btn btn-secondary" name="action" value="removeRecipe">Delete recipe</button>
              </div>
          </div>
      </form>
      <br><br><br>
      <h1> {{ recipeName }}</h1>
  
      {% for filteredRecipeName in filteredRecipeName %}
          <li>  
          
          {{ filteredRecipeName.quantity }} {{ filteredRecipeName.unitOfMeasure }}
          {{ filteredRecipeName.ingredients }} 
          <br>
          </li>
      {% endfor %}
      </ul>  
    </div>
  </div>  <!--end row-->
</div> <!--end container-->
{% endblock %}